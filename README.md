# 《C 语言程序设计精髓》学习笔记


## 1. 基本数据类型

   - **整型** (`int`, `short`, `long`, `long long`，以及它们的有符号和无符号版本如 `unsigned int`)
   - **浮点型** (`float`, `double`, `long double`)
   - **字符型** (`char`)，注意`char`既可以用来存储字符也可以存储小整数。
   - **空类型** (`void`)，用于函数返回类型或指针类型声明，表示没有类型。

### 整型 (`int`, `short`, `long`, `long long`, 有符号和无符号版本)

整型数据类型用于存储整数值。根据所占内存大小不同，可以分为不同的类型：

- **int**: 通常情况下，`int` 的大小是机器字长的1/2（在32位系统上通常是4字节，范围大约从-2^31到2^31-1）。
  ```c
  int num = 10; // 一个有符号整数
  unsigned int unum = 10; // 一个无符号整数，范围比有符号的大一倍
  ```

- **short**: 至少2字节，通常用于节省空间时存储较小的整数。
  ```c
  short sNum = 30000; // 确保值在short范围内，例如-32768到32767
  ```

- **long**: 至少4字节，通常与`int`相同或更大。
  ```c
  long lNum = 2000000000L; // 使用L后缀指定这是一个长整型数
  ```

- **long long**: 至少8字节，用于需要更大范围的整数。
  ```c
  long long llNum = 9000000000000000000LL; // 使用LL后缀，范围极大
  ```

### 浮点型 (`float`, `double`, `long double`)

浮点型用于存储小数，依据精度和范围的不同，分为以下几种：

- **float**: 单精度浮点数，通常占4字节，提供约6-7位有效数字的精度。
  ```c
  float fNum = 3.14f; // 使用f/fF/F后缀指定为float类型
  ```

- **double**: 双精度浮点数，通常占8字节，提供约15位有效数字的精度，是默认的浮点类型。
  ```c
  double dNum = 3.141592653589793; // 默认为double类型，也可以使用后缀d/D
  ```

- **long double**: 提供的精度依据实现而定，可能比`double`更高，但至少也是8字节。
  ```c
  long double ldNum = 3.14159265358979323846L; // 使用L后缀，具体精度依赖编译器和平台
  ```

### 字符型 (`char`)

字符型用于存储单个字符或小整数（通常是-128到127的范围）。

```c
char letter = 'A'; // 存储字符'A'
char asciiValue = 65; // 同样是'A'，因为ASCII码中A的值为65
```

### 空类型 (`void`)

`void`类型是一个特殊的类型，它不表示任何实际的数据类型。主要用于以下情况：

- 函数不返回任何值时：
```c
void functionName() { ... }
```
- 指向任何类型的指针：
```c
void *ptr; //这种指针需要类型转换才能正确解引用。
```
- 函数参数列表为空：
```c
void anotherFunction(void);
```


## 2. 数据结构

在C语言中，数据结构是指一组数据的存储结构，它不仅定义了数据的组织方式，还定义了数据间的关系以及对数据的操作方法。C语言本身并不直接提供数据结构作为内置类型，但通过数组、指针、结构体、联合体、枚举和动态内存管理等基本构建块，程序员可以实现各种复杂的数据结构。以下是C语言中常用的数据结构基础概念：

1. **数组**：存储固定数量、类型相同的元素的序列。数组元素可以通过索引访问。
   ```c
   int arr[10]; // 定义一个包含10个整数的数组
   ```

2. **结构体**（struct）：允许集合不同类型的变量成为一个整体，用于创建自定义数据类型。
   ```c
   struct Person {
       char name[20];
       int age;
       float height;
   };
   struct Person person1; // 定义一个Person类型的变量person1
   ```

3. **联合体**（union）：共享同一块内存空间的不同类型的数据，一次只能有效存储一种类型的数据。
   ```c
   union Data {
       int i;
       char c;
       float f;
   } u;
   ```

4. **枚举**（enum）：定义一组命名的整数常量，提高代码可读性。
   ```c
   enum Color {Red, Green, Blue};
   enum Color myColor = Red;
   ```

5. **指针**：存储变量的内存地址，是构建动态数据结构（如链表、树、图等）的关键。
   ```c
   int num = 10;
   int *ptr = &num; // ptr指向num的地址
   ```

6. **动态内存分配**：使用 `malloc`、`calloc`、`realloc` 和 `free` 等函数动态地在运行时分配和释放内存。
   ```c
   int *p = (int*)malloc(sizeof(int)); // 分配一个int大小的内存
   free(p); // 释放内存
   ```




## 2. 运算符优先级

在C语言中，运算符的优先级决定了表达式中各部分的计算顺序。优先级高的运算符会先于优先级低的运算符进行计算。以下是C语言中运算符优先级的大致排序，从高到低排列（括号内的数字代表优先级的细分等级，数字越小优先级越高）：

1. **括号** `()`：用于改变运算顺序，优先级最高。
2. **指针解引用** `*` 和 地址运算符 `&`。
3. **算术运算符**：  
乘法 `*`、除法 `/`、取模 `%`（均为同一优先级，高于加减）。  
加法 `+`、减法 `-`。
4. **移位运算符** `<<`（左移）和 `>>`（右移）。
5. **关系运算符**：`<`（小于）、`>`（大于）、`<=`（小于等于）、`>=`（大于等于）。
6. **相等性运算符**：`==`（等于）、`!=`（不等于）。
7. **按位与`&`**。
8. **按位异或`^`**。
9. **按位或`|`**。
10. **逻辑与`&&`**。
11. **逻辑或`||`**。
12. **条件运算符（三元运算符）`?:`**。
13. **赋值运算符**：`=`, `+=`, `-=`, `*=`, `/=`, `%=`, `<<=`, `>>=`, `&=`, `^=`, `|=`.
14. **逗号运算符`,`**：优先级最低，用于分隔表达式，依次计算各表达式并返回最后一个表达式的值。

## 3. 控制流语句

1. **顺序结构**：
   - C程序的基本执行方式，从上到下依次执行语句。

2. **选择结构**：
   - `if` 语句：基于条件执行代码块。
     ```c
     if (条件) {
         // 条件为真时执行的代码
     }
     ```
   - `if...else` 语句：基于条件选择执行两个代码块之一。
     ```c
     if (条件) {
         // 条件为真时执行的代码
     } else {
         // 条件为假时执行的代码
     }
     ```
   - `switch` 语句：基于不同的情况执行对应的代码块。
     ```c
     switch (表达式) {
         case 值1:
             // 表达式等于值1时执行的代码
             break;
         case 值2:
             // 表达式等于值2时执行的代码
             break;
         // 可以有多个case
         default:
             // 无匹配项时执行的代码
     }
     ```

3. **循环结构**：
   - `while` 循环：只要条件为真，就重复执行循环体。
     ```c
     while (条件) {
         // 循环体
     }
     ```
   - `do...while` 循环：先执行循环体，再检查条件，条件为真继续循环。
     ```c
     do {
         // 循环体
     } while (条件);
     ```
   - `for` 循环：灵活的循环结构，常用于已知循环次数的情况。
     ```c
     for (初始化; 条件; 更新) {
         // 循环体
     }
     ```

4. **跳转语句**：
   - `break`：用于提前退出循环或 `switch` 语句。
   - `continue`：跳过当前循环体剩余部分，直接开始下一次循环迭代。
   - `goto`：跳转到标签位置，不推荐频繁使用，易使代码混乱。
     ```c
     // 标签名:
     myLabel:
     // 代码...
     
     // 跳转:
     goto myLabel;
     ```




